
--- user_books ---
[{'Table': 'user_books', 'Create Table': "CREATE TABLE `user_books` (\n  `id` int unsigned NOT NULL AUTO_INCREMENT,\n  `user_id` int unsigned NOT NULL,\n  `book_id` int unsigned NOT NULL,\n  `last_played_position_seconds` int unsigned DEFAULT '0',\n  `playback_speed` decimal(3,1) DEFAULT '1.0',\n  `is_downloaded` tinyint(1) DEFAULT '0',\n  `download_path` varchar(255) DEFAULT NULL,\n  `purchased_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  `last_accessed_at` timestamp NULL DEFAULT NULL,\n  `is_read` tinyint(1) DEFAULT '0',\n  `started_at` timestamp NULL DEFAULT NULL,\n  `completed_at` timestamp NULL DEFAULT NULL,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uq_user_book` (`user_id`,`book_id`),\n  KEY `book_id` (`book_id`),\n  CONSTRAINT `user_books_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,\n  CONSTRAINT `user_books_ibfk_2` FOREIGN KEY (`book_id`) REFERENCES `books` (`id`) ON DELETE CASCADE\n) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci"}]

--- books ---
[{'Table': 'books', 'Create Table': "CREATE TABLE `books` (\n  `id` int unsigned NOT NULL AUTO_INCREMENT,\n  `title` varchar(200) NOT NULL,\n  `author` varchar(150) NOT NULL,\n  `duration_seconds` int unsigned NOT NULL DEFAULT '0',\n  `audio_path` varchar(255) NOT NULL,\n  `cover_image_path` varchar(255) DEFAULT NULL,\n  `price` decimal(8,2) NOT NULL DEFAULT '0.00',\n  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  `primary_category_id` int unsigned DEFAULT NULL,\n  `posted_by_user_id` int DEFAULT NULL,\n  `description` text,\n  PRIMARY KEY (`id`),\n  KEY `fk_books_primary_category` (`primary_category_id`),\n  CONSTRAINT `fk_books_primary_category` FOREIGN KEY (`primary_category_id`) REFERENCES `categories` (`id`) ON DELETE SET NULL\n) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci"}]

--- playlist_items ---
[{'Table': 'playlist_items', 'Create Table': "CREATE TABLE `playlist_items` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `book_id` int NOT NULL,\n  `file_path` varchar(512) COLLATE utf8mb4_general_ci NOT NULL,\n  `title` varchar(255) COLLATE utf8mb4_general_ci NOT NULL,\n  `duration_seconds` int DEFAULT '0',\n  `track_order` int DEFAULT '0',\n  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  KEY `idx_book_id` (`book_id`)\n) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci"}]

--- user_completed_tracks ---
[{'Table': 'user_completed_tracks', 'Create Table': 'CREATE TABLE `user_completed_tracks` (\n  `id` int NOT NULL AUTO_INCREMENT,\n  `user_id` int unsigned NOT NULL,\n  `track_id` int NOT NULL,\n  `completed_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `unique_completion` (`user_id`,`track_id`),\n  KEY `track_id` (`track_id`),\n  CONSTRAINT `user_completed_tracks_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,\n  CONSTRAINT `user_completed_tracks_ibfk_2` FOREIGN KEY (`track_id`) REFERENCES `playlist_items` (`id`) ON DELETE CASCADE\n) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci'}]
